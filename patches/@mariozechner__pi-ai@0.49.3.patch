diff --git a/dist/providers/google-gemini-cli.js b/dist/providers/google-gemini-cli.js
index 3741764906f41e87eda9259f567b1d5332551a63..ee65b64b338a39090bd1851c59493b26f1ba211f 100644
--- a/dist/providers/google-gemini-cli.js
+++ b/dist/providers/google-gemini-cli.js
@@ -9,7 +9,8 @@ import { sanitizeSurrogates } from "../utils/sanitize-unicode.js";
 import { convertMessages, convertTools, isThinkingPart, mapStopReasonString, mapToolChoice, retainThoughtSignature, } from "./google-shared.js";
 const DEFAULT_ENDPOINT = "https://cloudcode-pa.googleapis.com";
 const ANTIGRAVITY_DAILY_ENDPOINT = "https://daily-cloudcode-pa.sandbox.googleapis.com";
-const ANTIGRAVITY_ENDPOINT_FALLBACKS = [ANTIGRAVITY_DAILY_ENDPOINT, DEFAULT_ENDPOINT];
+// Use prod endpoint first - daily sandbox often returns 404
+const ANTIGRAVITY_ENDPOINT_FALLBACKS = [DEFAULT_ENDPOINT, ANTIGRAVITY_DAILY_ENDPOINT];
 // Headers for Gemini CLI (prod endpoint)
 const GEMINI_CLI_HEADERS = {
     "User-Agent": "google-cloud-sdk vscode_cloudshelleditor/0.1",
@@ -22,7 +23,7 @@ const GEMINI_CLI_HEADERS = {
 };
 // Headers for Antigravity (sandbox endpoint) - requires specific User-Agent
 const ANTIGRAVITY_HEADERS = {
-    "User-Agent": "antigravity/1.11.5 darwin/arm64",
+    "User-Agent": "antigravity/1.15.8 darwin/arm64",
     "X-Goog-Api-Client": "google-cloud-sdk vscode_cloudshelleditor/0.1",
     "Client-Metadata": JSON.stringify({
         ideType: "IDE_UNSPECIFIED",
@@ -218,7 +219,7 @@ function isClaudeThinkingModel(modelId) {
  * Check if an error is retryable (rate limit, server error, network error, etc.)
  */
 function isRetryableError(status, errorText) {
-    if (status === 429 || status === 500 || status === 502 || status === 503 || status === 504) {
+    if (status === 404 || status === 429 || status === 500 || status === 502 || status === 503 || status === 504) {
         return true;
     }
     return /resource.?exhausted|rate.?limit|overloaded|service.?unavailable|other.?side.?closed/i.test(errorText);
@@ -334,6 +335,10 @@ export const streamGoogleGeminiCli = (model, context, options) => {
                     if (attempt < MAX_RETRIES && isRetryableError(response.status, errorText)) {
                         // Use server-provided delay or exponential backoff
                         const serverDelay = extractRetryDelay(errorText, response);
+                        // Don't retry 429s - fail fast so caller can failover to next account
+                        if (response.status === 429) {
+                            throw new Error(`Rate limited (429): ${extractErrorMessage(errorText)}`);
+                        }
                         const delayMs = serverDelay ?? BASE_DELAY_MS * 2 ** attempt;
                         await sleep(delayMs, options?.signal);
                         continue;
@@ -347,6 +352,10 @@ export const streamGoogleGeminiCli = (model, context, options) => {
                         if (error.name === "AbortError" || error.message === "Request was aborted") {
                             throw new Error("Request was aborted");
                         }
+                        // Don't retry rate limit errors - propagate immediately for failover
+                        if (error.message.startsWith("Rate limited (429)")) {
+                            throw error;
+                        }
                     }
                     // Extract detailed error message from fetch errors (Node includes cause)
                     lastError = error instanceof Error ? error : new Error(String(error));
